---
title: Memo
description: Learn how to use memoization in Reactter.
sidebar:
  order: 0.2
---

<a href="https://pub.dev/documentation/reactter/latest/reactter/Memo-class.html" target="_blank">`Memo`</a> is a class callable with memoization logic which it stores computation results in cache, and retrieve that same information from the cache the next time it's needed instead of computing it again.

> Memoization is a powerful trick that can help speed up our code, especially when dealing with repetitive and heavy computing functions.

## Syntax

```dart
Memo<T, A>(
  T computeValue(A arg), [
  MemoInterceptor<T, A>? interceptor,
]);
```

`Memo` accepts theses properties:

- `computeValue`: A method that takes an argument of type `A` and returns a value of  `T` type. This is the core function that will be memoized.
- `interceptor`: A <a href="https://pub.dev/documentation/reactter/6.0.0/reactter/MemoInterceptor-class.html" target="_blank">`MemoInterceptor`</a> that allows you to intercept the memoization function calls and modify the memoization process.
  Reactter providers some interceptors:
  - <a href="https://pub.dev/documentation/reactter/6.0.0/reactter/MemoInterceptors-class.html" target="_blank">`MemoInterceptors`</a>: allows multiple memoization interceptors to be used together.
  - <a href="https://pub.dev/documentation/reactter/6.0.0/reactter/MemoInterceptorWrapper-class.html" target="_blank">`MemoInterceptorWrapper`</a>: a wrapper for a memoized function that allows you to define callbacks for initialization, successful completion, error handling, and finishing.
  - <a href="https://pub.dev/documentation/reactter/6.0.0/reactter/AsyncMemoSafe-class.html" target="_blank">`AsyncMemoSafe`</a>: prevents saving in cache if the `Future` calculation function throws an error during execution.
  - <a href="https://pub.dev/documentation/reactter/6.0.0/reactter/TemporaryCacheMemo-class.html" target="_blank">`TemporaryCacheMemo`</a>: removes memoized values from the cache after a specified duration.

## Methods

`Memo` provides the following methods that will help you manipulate the cache as you wish:

- `T? get(A arg)`: returns the cached value by `arg`.
- `T? remove(A arg)`: removes the cached value by `arg`.
- `clear`: removes all cached data.

## Example

Here's an example of factorial using `Memo`:

```dart
late final factorialMemo = Memo(calculateFactorial);

/// A factorial(n!) represents the multiplication of all numbers between 1 and n.
/// For example, factorial(3) equals 3 x 2 x 1, which is 6.
BigInt calculateFactorial(int number) {
  if (number == 0) return BigInt.one;
  return BigInt.from(number) * factorialMemo(number - 1);
}

void main() {
  // Calculate the factorial of 50(1 to 50).
  final f50 = factorialMemo(50);
  // Calculate the factorial of 10(1 to 10).
  // The result is retrieved from the cache,
  // computed previously for f50.
  final f10 = factorialMemo(10);
  // Calculate the factorial of 100(1 to 100).
  // First calculates the factorial from 51 to 100,
  // then retrieves the remainder from cache, calculated by f50(1 to 50).
  final f100 = factorialMemo(100);

  print(
    'Results:\n'
    '\t10!: $f10\n'
    '\t50!: $f50\n'
    '\t100!: $f100\n'
  );
}
```

In the above example, the `factorialMemo` function is called with different numbers, and the results are stored in the cache.
When the same number is passed to the `factorialMemo` function again, the result is retrieved from the cache instead of recalculating it.

:::note
The `computeValue` of `Memo` accepts one argument only.
If you want to add more arguments, you can supply it using the <a href="https://dart.dev/language/records" target="_blank">`Record`</a>(if your proyect support) 
or [`Args`](/reactter/classes/args)(provided by Reactter).
:::

:::note
Use <a href="https://pub.dev/documentation/reactter/6.0.0/reactter/Memo/inline.html" target="_blank">`Memo.inline`</a> in case there is a typing conflict,
e.g. with the [`UseAsyncState`](/reactter/hooks/use_async_state) and [`UseCompute`](/reactter/hooks/use_compute) hooks which a `Function` type is required.
:::