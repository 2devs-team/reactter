---
title: UseState
description: Learn how to use the `useState` hook in Reactter.
sidebar:
  order: 1
---

import StateMethodsShort from '@/content/docs/shareds/state_methods_short.mdx';

<a href="https://pub.dev/documentation/reactter/latest/reactter/UseState-class.html">`UseState`</a> is a [hook](/reactter/core_concepts/hooks) that allows to declare state variables and manipulate its `value`, which in turn notifies about its changes to listeners.

## Syntax

```dart showLineNumbers=false
UseState<T>(T initialValue);
```

`UseState` accepts this property:

- `initialValue`: Initial value of `T` type that it will hold.

## Methods

`UseState` provides the following methods:

- `value`: A property that allows to read and write its state.
- `ReactterState` methods(Learn more [here](/reactter/core_concepts/state_management/#state-methods)):
  <StateMethodsShort/>

## Declaration

`UseState` can be initialized using the constructor class:

```dart showLineNumbers=false
final intState = UseState<int>(0);
final strState = UseState("initial value");
final userState = UseState(User());
```
:::note
To appropriately use the `late` hook inside a class registered via the [dependency injection](/reactter/core_concepts/dependency_injection), use `Reactter.lazyState`.
Learn more about it [here](/reactter/methods/to_manage_state/lazy_state). e.g:

  ```dart title="Counter.dart" "Reactter.lazyState" "UseState"
  class Counter {
    final int initialCount;
    late final count = Reactter.lazyState(() => UseState(initialCount), this);

    Counter([this.initialCount = 0]);
  }
  ```
:::

## Reading and writing the value

`UseState` has a `value` property that allows to read and write its state:

```dart showLineNumbers=false
intState.value = 10;
print("Current state: ${intState.value}");
```
:::note
`UseState` notifies that its `value` has changed when the previous `value` is different from the current `value`.
If its `value` is an `Object`, it does not detect internal changes, only when `value` is setted to another `Object`.
:::

## Updating the value

Use `update` method to notify changes after run a set of instructions:

```dart showLineNumbers=false
userState.update((user) {
  user.firstname = "Firstname";
  user.lastname = "Lastname";
});
```

Use `refresh` method to force to notify changes.

```dart showLineNumbers=false
userState.refresh();
```

## Listening to changes

When `value` has changed, the `UseState` will emit the following events(learn about it [here](/reactter/core_concepts/lifecycle/)):

- `Lifecycle.willUpdate` event is triggered before the `value` change or `update`, `refresh` methods have been invoked.
- `Lifecycle.didUpdate` event is triggered after the `value` change or `update`, `refresh` methods have been invoked.

Example of listening to changes:

```dart showLineNumbers=false
Reactter.on(
  userState,
  Lifecycle.didUpdate,
  (user, _) => print("User: ${user.firstname} ${user.lastname}"),
);
```